# Application Configuration

# Server Settings
server:
  host: "${HOST:-0.0.0.0}"
  port: "${PORT:-8501}"
  debug: "${DEBUG_MODE:-false}"
  workers: "${WORKERS:-4}"
  timeout: "${TIMEOUT:-60}"

# Logging Configuration
logging:
  level: "${LOG_LEVEL:-INFO}"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "${LOG_FILE:-logs/app.log}"
  max_size: "${LOG_MAX_SIZE:-10485760}"  # 10MB
  backup_count: "${LOG_BACKUP_COUNT:-5}"

# Database Settings
database:
  redis:
    host: "${REDIS_HOST:-localhost}"
    port: "${REDIS_PORT:-6379}"
    db: "${REDIS_DB:-0}"
    password: "${REDIS_PASSWORD:-null}"
    ssl: "${REDIS_SSL:-false}"

# Market Data Settings
market_data:
  default_timeframe: "${DEFAULT_TIMEFRAME:-1d}"
  default_assets: "${DEFAULT_ASSETS:-['BTC', 'ETH', 'SOL']}"
  cache_ttl: "${CACHE_TTL:-300}"  # 5 minutes
  max_retries: "${MAX_RETRIES:-3}"
  retry_delay: "${RETRY_DELAY:-1}"

# Model Settings
models:
  forecast:
    horizon: "${FORECAST_HORIZON:-30}"  # days
    confidence_interval: "${CONFIDENCE_INTERVAL:-0.95}"
    min_training_samples: "${MIN_TRAINING_SAMPLES:-1000}"
    update_frequency: "${UPDATE_FREQUENCY:-3600}"  # 1 hour
  technical:
    indicators:
      - name: "RSI"
        period: "${RSI_PERIOD:-14}"
      - name: "MACD"
        fast_period: "${MACD_FAST_PERIOD:-12}"
        slow_period: "${MACD_SLOW_PERIOD:-26}"
        signal_period: "${MACD_SIGNAL_PERIOD:-9}"
      - name: "BB"
        period: "${BB_PERIOD:-20}"
        std_dev: "${BB_STD_DEV:-2}"

# Strategy Settings
strategies:
  default:
    position_size: "${POSITION_SIZE:-0.1}"
    stop_loss: "${STOP_LOSS:-0.02}"
    take_profit: "${TAKE_PROFIT:-0.04}"
    max_positions: "${MAX_POSITIONS:-5}"
  optimization:
    method: "${OPTIMIZATION_METHOD:-bayesian}"
    n_trials: "${N_TRIALS:-100}"
    cv_folds: "${CV_FOLDS:-5}"

# Risk Management
risk:
  max_drawdown: "${MAX_DRAWDOWN:-0.2}"
  max_leverage: "${MAX_LEVERAGE:-3}"
  position_limits:
    BTC: "${BTC_LIMIT:-0.3}"
    ETH: "${ETH_LIMIT:-0.3}"
    SOL: "${SOL_LIMIT:-0.2}"
    default: "${DEFAULT_LIMIT:-0.1}"
  correlation_threshold: "${CORRELATION_THRESHOLD:-0.7}"

# NLP Settings
nlp:
  confidence_threshold: "${NLP_CONFIDENCE_THRESHOLD:-0.7}"
  max_tokens: "${NLP_MAX_TOKENS:-1000}"
  temperature: "${NLP_TEMPERATURE:-0.7}"
  cache_ttl: "${NLP_CACHE_TTL:-3600}"  # 1 hour
  templates:
    forecast: "${FORECAST_TEMPLATE:-trading/nlp/config/response_templates.json}"
    visualization: "${VIZ_TEMPLATE:-trading/nlp/config/viz_settings.json}"
    entities: "${ENTITY_TEMPLATE:-trading/nlp/config/entity_patterns.json}"
    intents: "${INTENT_TEMPLATE:-trading/nlp/config/intent_patterns.json}"

# API Settings
api:
  rate_limit: "${API_RATE_LIMIT:-100}"  # requests per minute
  timeout: "${API_TIMEOUT:-30}"
  max_retries: "${API_MAX_RETRIES:-3}"
  cache_ttl: "${API_CACHE_TTL:-300}"  # 5 minutes

# Performance Monitoring
monitoring:
  metrics:
    - name: "response_time"
      threshold: "${RESPONSE_TIME_THRESHOLD:-2.0}"  # seconds
    - name: "memory_usage"
      threshold: "${MEMORY_USAGE_THRESHOLD:-1024}"  # MB
    - name: "cpu_usage"
      threshold: "${CPU_USAGE_THRESHOLD:-80}"  # percent
  alert:
    email: "${ALERT_EMAIL:-alerts@example.com}"
    slack: "${ALERT_SLACK:-https://hooks.slack.com/services/xxx/yyy/zzz}"

# Security Settings
security:
  ssl:
    enabled: "${SSL_ENABLED:-false}"
    cert_file: "${SSL_CERT_FILE:-null}"
    key_file: "${SSL_KEY_FILE:-null}"
  cors:
    allowed_origins: "${CORS_ORIGINS:-['*']}"
    allowed_methods: "${CORS_METHODS:-['GET', 'POST']}"
    allowed_headers: "${CORS_HEADERS:-['*']}"
  rate_limiting:
    enabled: "${RATE_LIMITING_ENABLED:-true}"
    window: "${RATE_LIMITING_WINDOW:-60}"  # seconds
    max_requests: "${RATE_LIMITING_MAX_REQUESTS:-100}" 